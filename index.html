<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="src/style.css">

  <title>Address book</title>
</head>

<body class =" bg-grey-dark">
    <div class="container mx-auto">
  
  <h1 class="text-red-dark">My Address Book</h1>
      <div class ="items-center" style ="text-align:center"> 
        <button onclick="showAddContactForm()" class="bg-blue hover:bg-blue-dark text-white font-bold py-2 px-4 border border-blue-darker rounded items-center" id="add-contact">Add Contact</button>
        <button style="display: none" onclick="hideShowAddContactForm()" class="bg-blue hover:bg-blue-dark text-white font-bold py-2 px-4 border border-blue-darker rounded items-center" id="add-contact-hide">Hide Contact Form</button>
      </div>
  
  
 

  <form action="#" style="display: none" id="new-contact-form" class="w3-container w3-card-4 w3-light-grey w3-text-blue w3-margin">
      <h2 class="w3-center">Contact Details</h2>
       
      <div class="w3-row w3-section">
        <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-user"></i></div>
          <div class="w3-rest">
            <input id="contact-name" class="w3-input w3-border" name="name" type="text" placeholder="Name" required>
          </div>
      </div>
      
      <div class="w3-row w3-section">
        <div class="w3-col" style="width:50px"><i class="w3-xxlarge"></i></div>
          <div class="w3-rest">
            <input id="contact-company" class="w3-input w3-border" name="company" type="text" placeholder="Company">
          </div>
      </div>
      
      <div class="w3-row w3-section">
        <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-envelope-o"></i></div>
          <div class="w3-rest">
            <input id="contact-email" class="w3-input w3-border" name="email" type="email" placeholder="E-mail">
          </div>
      </div>
      
      <div class="w3-row w3-section">
        <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-phone"></i></div>
          <div class="w3-rest">
            <input id="contact-phone" class="w3-input w3-border" name="phone" type="text" placeholder="Phone" required>
          </div>
      </div>
      
      <div class="w3-row w3-section">
        <div class="w3-col" style="width:50px"><i class="w3-xxlarge"></i></div>
          <div class="w3-rest">
            <input id="contact-twitter" class="w3-input w3-border" name="twitter" type="text" placeholder="Twitter">
          </div>
      </div>
      
      <div class="w3-row w3-section">
        <div class="w3-col" style="width:50px"><i class="w3-xxlarge fa fa-pencil"></i></div>
          <div class="w3-rest">
            <textarea id="contact-notes" class="w3-input w3-border" name="notes" type="text" placeholder="Notes"></textarea>
          </div>
      </div>
      
      <button id="save-contact" type="submit" class="w3-button w3-block w3-section w3-blue w3-ripple w3-padding">Save Contact</button>
      
      </form>

  
      <div id="contact-list" class="flex mb-4">
        </div>
  </div>
      
  <script src="./dist/bundle.js"></script>


<script>
showAddContactForm = () => {
  document.getElementById("new-contact-form").style = "display: block";
  document.getElementById("add-contact-hide").style = "display: inline";
  let inputNameForm = document.getElementById("contact-name");
  inputNameForm.focus();
  inputNameForm.select();
};

hideShowAddContactForm = () => {
  document.getElementById("new-contact-form").style = "display: none";
  document.getElementById("add-contact-hide").style = "display: none";
};

function deleteContact(id){
  let conDel = JSON.parse(window.localStorage.getItem('contacts'))
  for (var i = 0; i < conDel.length; i++) {
    if (conDel[i].id == id) {
    conDel.splice(i ,1);
    window.localStorage.setItem('contacts', JSON.stringify(conDel))
    window.location.reload(true);
    }
  }
};

function editContact(id) {
  document.getElementById("add-contact").disabled = true;
  document.getElementById("new-contact-form").style = "display: block";
  let conEdit = JSON.parse(window.localStorage.getItem('contacts'));
  for (var i = 0; i < conEdit.length; i++) {
    if (conEdit[i].id == id) {
      document.getElementById("contact-name").value = conEdit[i].name;
      document.getElementById("contact-company").value = conEdit[i].company;
      document.getElementById("contact-email").value = conEdit[i].email;
      document.getElementById("contact-phone").value = conEdit[i].phone;
      document.getElementById("contact-twitter").value = conEdit[i].twitter;
      document.getElementById("contact-notes").value = conEdit[i].notes;
      conEdit.splice(i ,1);
      alert("You selected to edit a contact, please do not refresh your browser and make sure to push the ONLY the 'Save Contact' button, even if you do not want to make changes to the contact. Otherwise the contact will be DELETED!")
      window.localStorage.setItem('contacts', JSON.stringify(conEdit));
      }
    }  
};

</script>

</body>

</html>
